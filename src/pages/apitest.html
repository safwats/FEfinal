<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <link rel="stylesheet" href="../css/style.css" />
    <script type="module" src="/src/js/main.js"></script>
    <script src="/src/js/bmidemo.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body class="apitest">
    <!-- Banneri -->
    <div class="banner">
      <div class="navbar">
        <div class="logo">üëºüèªHyTe hyvinvointialue</div>
        <ul>
          <li><a href="./index.html">Home</a></li>
          <li><a href="./about.html">About</a></li>
          <li><a href="./src/pages/apitest.html" target="_blank">Oma sivusto</a></li>
          <li id="kirjaudu-ulos"><a href="#" onclick="logout()">Kirjaudu ulos</a></li>
        </ul>
      </div>
    </div>
    <div id="app"></div>

    <main>
      <ul class="testlist"></ul>

      <table class="styled-table">
        <thead></thead>
      </table>

      <div class="forms">
        <div style="flex: 1">
          <table class="styled-table">
            <thead></thead>
            <tbody id="taulukko" class="tbody">
              <!-- t√§nne haetaan kaikki k√§ytt√§j√§t -->
              <!-- # Get all users -->
              <!-- GET http://127.0.0.1:3000/api/users -->
            </tbody>
          </table>
        </div>
      </div>

      <!-- P√§iv√§kirja-osio -->
      <div class="diary-container">
        <h2>Hyvinvointip√§iv√§kirja</h2>
        
        <!-- P√§iv√§kirja-alue (kaksiosainen flex-container) -->
        <div class="diary-flex-container">
          
          <!-- Vasen puoli: Merkint√∂jen n√§ytt√§minen -->
          <div class="diary-entries-container">
            <h3>Omat merkinn√§t</h3>
            <button class="get_entries">N√§yt√§ merkinn√§t</button>
            <div id="diary-entries" class="entries-list">
              <!-- T√§h√§n tulevat p√§iv√§kirjamerkinn√§t -->
              <p class="no-entries">N√§hd√§ksesi merkinn√§t, paina "N√§yt√§ merkinn√§t" -painiketta.</p>
            </div>
          </div>
          
          <!-- Oikea puoli: Uuden merkinn√§n luominen -->
          <div class="diary-form-container">
            <h3>Lis√§√§ uusi merkint√§</h3>
            <form id="entry-form" class="entry-form">
              <div class="form-group">
                <label for="entry_date">P√§iv√§m√§√§r√§:</label>
                <input type="date" id="entry_date" name="entry_date" required>
              </div>
              
              <div class="form-group">
                <label for="feeling">Fiilis:</label>
                <input type="text" id="feeling" name="feeling" minlength="3" maxlength="25" required placeholder="Esim. Hyv√§, V√§synyt, Energinen...">
              </div>
              
              <div class="form-group">
                <label for="weight">Paino (kg):</label>
                <input type="number" id="weight" name="weight" step="0.1" min="2" max="200" placeholder="Paino kilogrammoina">
              </div>
              
              <div class="form-group">
                <label for="sleep">Uni (tuntia):</label>
                <input type="number" id="sleep" name="sleep" step="1" min="0" max="24" placeholder="Unen m√§√§r√§ tunteina">
              </div>
              
              <div class="form-group">
                <label for="note">Huomio:</label>
                <input type="text" id="note" name="note" placeholder="Kirjoita t√§h√§n huomiosi p√§iv√§st√§">
              </div>
              
              <!-- Debug-tietoja varten -->
              <div id="form-debug" style="display: none; margin-top: 15px; padding: 10px; background-color: #f8f8f8; border: 1px solid #ddd; border-radius: 4px;">
                <h4 style="margin-top: 0;">Debug-tiedot</h4>
                <pre id="debug-info"></pre>
              </div>
              
              <button type="submit" class="submit-entry">Tallenna merkint√§</button>
            </form>
          </div>
        </div>
      </div>

      <!-- BMI-laskuri -->
      <div class="card-bmi">
        <img src="/public/img/bmi.jpg" alt="BMI Index chart" style="width: 100%" />
        <h2>Painoindeksilaskuri / BMI-laskuri</h2>
        <p class="description">
          Painoindeksilaskurilla voit laskea pituuden ja painon perustella
          painoindeksin (BMI, Body Mass Index).
        </p>

        <!-- Korjattu tyhj√§ action-attribuutti -->
        <form action="#" method="post">
          <label for="weight">Anna painosi:</label>
          <input type="text" id="weight" name="weight" placeholder="kg" />
          <label for="height">Anna pituutesi:</label>
          <input type="text" id="height" name="height" placeholder="cm" />
          <button type="submit" class="btn calculate">Laske indeksi</button>
        </form>

        <section class="bmi-table">
          <h2>BMI-tulokset</h2>
          <p>Mittaustuloksesi: <span class="bmi-score">0</span></p>

          <table id="bmiTbl" class="table table-bordered">
            <tbody>
              <tr class="bmi0-19">
                <td>Alipaino</td>
                <td>0 - 18.9</td>
              </tr>
              <tr class="bmi19-25">
                <td>Normaali paino</td>
                <td>19 - 24.9</td>
              </tr>
              <tr class="bmi25-30">
                <td>Ylipaino</td>
                <td>25.0 - 40.0 tai enemm√§n</td>
              </tr>
            </tbody>
          </table>

          <p>
            „ÄΩÔ∏è Analyysi:
            <span class="analysis">T√§h√§n saat analyysin BMI tuloksestasi</span>
          </p>
        </section>
      </div>
    </main>

    <!-- The actual snackbar -->
    <div id="snackbar">Some text some message..</div>

    <dialog class="info_dialog">
      <p>
        <!-- t√§h√§n t√§ytet√§√§n k√§ytt√§j√§n tiedot -->
        <!-- # Get user by id -->
        <!-- GET http://127.0.0.1:3000/api/users/1 -->
      </p>
      <button autofocus>Close</button>
    </dialog>
  </body>
  <footer>Safwatin hyvinvointi sovellus</footer>
</html>